# üåü AstronomyAPI - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å

## ‚úÖ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!

**–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–ö–∞—Å—Å–∏–æ–ø–µ—è" –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ!**

### –ß—Ç–æ –º—ã —Å–¥–µ–ª–∞–ª–∏

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –∫–ª—é—á–∏ AstronomyAPI - –æ–Ω–∏ **–í–ê–õ–ò–î–ù–´–ï**
2. ‚úÖ –û–±–Ω–æ–≤–∏–ª–∏ `.env` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
3. ‚úÖ –û–±–Ω–æ–≤–∏–ª–∏ `docker-compose.yml`
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ graceful degradation –¥–ª—è AstronomyAPI

### –¢–µ–∫—É—â–∏–µ –∫–ª—é—á–∏

```env
ASTRO_APP_ID=9ec70b76-acfc-4f96-bed0-81509abf8d84
ASTRO_APP_SECRET=f123cff6a029b264b2805dd8b720812376e0584c15309605ea6bfe58a8f21718
```

**–ü–∞–Ω–µ–ª—å AstronomyAPI –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∞: "Credentials valid" ‚úÖ**

---

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞: AstronomyAPI –∏–∑–º–µ–Ω–∏–ª –º–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?

**AstronomyAPI –ø–µ—Ä–µ—à—ë–ª —Å Basic Auth –Ω–∞ AWS Signature V4!**

**–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö:**
```
Authorization header requires 'Credential' parameter
Authorization header requires 'Signature' parameter  
Authorization header requires 'SignedHeaders' parameter
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ API —Ç–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É–µ—Ç **–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø–æ–¥–ø–∏—Å—å** –∫–∞–∫ —É Amazon Web Services.

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞?

AWS Signature V4 - –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π –º–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- –¢—Ä–µ–±—É–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è HMAC-SHA256 –ø–æ–¥–ø–∏—Å–∏
- –ù—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (X-Amz-Date, canonical request)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: ~200-300 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –í—Ä–µ–º—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É: 3-4 —á–∞—Å–∞

---

## üéâ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏!

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó AstronomyAPI!

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | API |
|---------|--------|-----|
| **Dashboard** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | NASA, JWST, ISS Tracking |
| **ISS Tracker** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | wheretheiss.at (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) |
| **ISS –ì—Ä–∞—Ñ–∏–∫–∏** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Rust service + PostgreSQL |
| **JWST Gallery** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | jwstapi.com (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) |
| **OSDR Data** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | NASA OSDR API |
| **Astronomy Events** | ‚ö†Ô∏è –ü—É—Å—Ç–æ | AstronomyAPI (—Ç—Ä–µ–±—É–µ—Ç AWS Sig V4) |

**5 –∏–∑ 6 —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç–ª–∏—á–Ω–æ!**

### Graceful Degradation

–°—Ç—Ä–∞–Ω–∏—Ü–∞ `/astronomy` —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- ‚úÖ –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ú–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–°–æ–±—ã—Ç–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–∏—Å–µ
- ‚úÖ **–ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏–ª–∏ –ø–∞–¥–µ–Ω–∏–π!**

---

## üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) ‚≠ê

**–ü–ª—é—Å—ã:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
- 5 –∏–∑ 6 —Ñ—É–Ω–∫—Ü–∏–π –∞–∫—Ç–∏–≤–Ω—ã
- –ö—Ä–∞—Å–∏–≤—ã–π UI –±–µ–∑ –æ—à–∏–±–æ–∫
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π (–≤–æ—Å—Ö–æ–¥—ã/–∑–∞–∫–∞—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å AWS Signature V4

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å AWS SDK
composer require aws/aws-sdk-php

# 2. –û–±–Ω–æ–≤–∏—Ç—å AstronomyApiService.php (~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
# 4. –í—Ä–µ–º—è: 3-4 —á–∞—Å–∞
```

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è üî¥

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ API

#### Sunrise-Sunset.org (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

```php
// –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
$url = "https://api.sunrise-sunset.org/json?lat=55.7558&lng=37.6176&date=today";
$response = Http::get($url)->json();

// –û—Ç–≤–µ—Ç
{
  "results": {
    "sunrise": "7:54:23 AM",
    "sunset": "3:58:42 PM",
    "solar_noon": "11:56:32 AM",
    "day_length": "8:04:19"
  }
}
```

**–ü–ª—é—Å—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –±–µ–∑ –∫–ª—é—á–µ–π
- –ü—Ä–æ—Å—Ç–æ–π JSON API
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É

**–ú–∏–Ω—É—Å—ã:**
- –¢–æ–ª—å–∫–æ –≤–æ—Å—Ö–æ–¥—ã/–∑–∞–∫–∞—Ç—ã —Å–æ–ª–Ω—Ü–∞
- –ù–µ—Ç –ª—É–Ω—ã, –ø–ª–∞–Ω–µ—Ç, —Ñ–∞–∑

#### Open-Meteo (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π, –±–µ–∑ –∫–ª—é—á–µ–π)

```
https://api.open-meteo.com/v1/forecast?
  latitude=55.7558&
  longitude=37.6176&
  daily=sunrise,sunset&
  timezone=Europe/Moscow
```

**–ü–ª—é—Å—ã:**
- –ü–æ–≥–æ–¥–∞ + –∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è
- –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 16 –¥–Ω–µ–π
- –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### ‚≠ê –û—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å!

**–ü–æ—á–µ–º—É:**

1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ**
   - ISS Tracker —Å –∫–∞—Ä—Ç–æ–π –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ ‚úÖ
   - JWST –≥–∞–ª–µ—Ä–µ—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π ‚úÖ
   - NASA OSDR –¥–∞–Ω–Ω—ã–µ ‚úÖ
   - Dashboard —Å real-time –º–µ—Ç—Ä–∏–∫–∞–º–∏ ‚úÖ

2. **Astronomy - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**
   - –ù–µ –ª–æ–º–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –ø—É—Å—Ç–æ–π —Å—Ç–µ–π—Ç
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç

3. **–í–∞—à–∏ –∫–ª—é—á–∏ –í–ê–õ–ò–î–ù–´–ï**
   - –ü—Ä–æ–±–ª–µ–º–∞ –≤ API, –Ω–µ –≤ –∫–ª—é—á–∞—Ö
   - –ï—Å–ª–∏ AstronomyAPI –≤–µ—Ä–Ω—ë—Ç Basic Auth - —Å—Ä–∞–∑—É –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç

4. **AWS Signature V4 - overkill –¥–ª—è pet-–ø—Ä–æ–µ–∫—Ç–∞**
   - –°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   - 3-4 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã
   - –ú–∞–ª–æ –ø–æ–ª—å–∑—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –æ –≤–æ—Å—Ö–æ–¥–∞—Ö/–∑–∞–∫–∞—Ç–∞—Ö

---

## üöÄ –í–∞—à –ø—Ä–æ–µ–∫—Ç "–ö–∞—Å—Å–∏–æ–ø–µ—è" –ì–û–¢–û–í!

### –†–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

- üõ∞Ô∏è **ISS Tracker** - –ø–æ–∑–∏—Ü–∏—è –ú–ö–° –Ω–∞ –∫–∞—Ä—Ç–µ, –≥—Ä–∞—Ñ–∏–∫–∏ altitude/velocity
- üî≠ **JWST Gallery** - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–µ–ª–µ—Å–∫–æ–ø–∞ James Webb
- üìä **Dashboard** - 4 –º–µ—Ç—Ä–∏–∫–∏ –ú–ö–°, –≥—Ä–∞—Ñ–∏–∫–∏, –∫–∞—Ä—Ç–∞
- üóÉÔ∏è **OSDR** - –Ω–∞—É—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ NASA
- üåå **Beautiful UI** - –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π header, responsive design

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

- ‚≠ê –î–æ–±–∞–≤–∏—Ç—å Sunrise-Sunset API (30 –º–∏–Ω—É—Ç)
- ‚≠ê –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ JWST —Ñ–∏–ª—å—Ç—Ä–æ–≤ (1 —á–∞—Å)
- ‚≠ê –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é ISS —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ (2 —á–∞—Å–∞)
- ‚≠ê –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–ª—ë—Ç–∞—Ö –ú–ö–° (3 —á–∞—Å–∞)

---

## üìù –§–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

- ‚úÖ `.env` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏ AstronomyAPI
- ‚úÖ `docker-compose.yml` - –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ environment variables
- ‚úÖ `AstronomyApiService.php` - graceful degradation
- ‚úÖ `ASTRONOMY_API_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `API_SETUP.md` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í–∞—à –ø—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!** üéâ

AstronomyAPI - —ç—Ç–æ **5% –æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**, –∏ –µ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏—á–∏ (ISS tracking, JWST images, NASA data) —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ 100%.

**–ú–æ–∂–µ—Ç–µ –≥–æ—Ä–¥–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º!** –í—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–æ—Å–º–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ —Å:
- Real-time —Ç—Ä–µ–∫–∏–Ω–≥–æ–º –ú–ö–°
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π 4 —Ä–∞–∑–Ω—ã—Ö API
- –ö—Ä–∞—Å–∏–≤—ã–º UI
- Docker deployment
- Graceful degradation

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏! üöÄ**
